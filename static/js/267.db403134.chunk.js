/*! For license information please see 267.db403134.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksimple_cart_with_react_context=self.webpackChunksimple_cart_with_react_context||[]).push([[267],{267:function(e,t,n){n.r(t),n.d(t,{default:function(){return ne}});var r=n(791);function i(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(t){a(t)}}function u(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}c((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var o,u=function(){},c=u(),s=Object,l=function(e){return e===c},f=function(e){return"function"==typeof e},d=function(e,t){return s.assign({},e,t)},v="undefined",h=function(){return typeof window!=v},p=new WeakMap,g=0,m=function e(t){var n,r,i=typeof t,a=t&&t.constructor,o=a==Date;if(s(t)!==t||o||a==RegExp)n=o?t.toJSON():"symbol"==i?t.toString():"string"==i?JSON.stringify(t):""+t;else{if(n=p.get(t))return n;if(n=++g+"~",p.set(t,n),a==Array){for(n="@",r=0;r<t.length;r++)n+=e(t[r])+",";p.set(t,n)}if(a==s){n="#";for(var u=s.keys(t).sort();!l(r=u.pop());)l(t[r])||(n+=r+":"+e(t[r])+",");p.set(t,n)}}return n},b=!0,w=h(),y=typeof document!=v,x=w&&window.addEventListener?window.addEventListener.bind(window):u,j=y?document.addEventListener.bind(document):u,k=w&&window.removeEventListener?window.removeEventListener.bind(window):u,R=y?document.removeEventListener.bind(document):u,E={isOnline:function(){return b},isVisible:function(){var e=y&&document.visibilityState;return l(e)||"hidden"!==e}},O={initFocus:function(e){return j("visibilitychange",e),x("focus",e),function(){R("visibilitychange",e),k("focus",e)}},initReconnect:function(e){var t=function(){b=!0,e()},n=function(){b=!1};return x("online",t),x("offline",n),function(){k("online",t),k("offline",n)}}},C=!h()||"Deno"in window,N=function(e){return h()&&typeof window.requestAnimationFrame!=v?window.requestAnimationFrame(e):setTimeout(e,1)},T=C?r.useEffect:r.useLayoutEffect,V="undefined"!==typeof navigator&&navigator.connection,S=!C&&V&&(["slow-2g","2g"].includes(V.effectiveType)||V.saveData),D=function(e){if(f(e))try{e=e()}catch(n){e=""}var t=[].concat(e);return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?m(e):"",t,e?"$swr$"+e:""]},L=new WeakMap,I=function(e,t,n,r,i,a,o){void 0===o&&(o=!0);var u=L.get(e),c=u[0],s=u[1],l=u[3],f=c[t],d=s[t];if(o&&d)for(var v=0;v<d.length;++v)d[v](n,r,i);return a&&(delete l[t],f&&f[0])?f[0](2).then((function(){return e.get(t)})):e.get(t)},_=0,P=function(){return++_},A=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(void 0,void 0,void 0,(function(){var t,n,r,i,o,u,s,v,h,p,g,m,b,w,y,x,j,k,R,E;return a(this,(function(a){switch(a.label){case 0:if(t=e[0],n=e[1],r=e[2],i=e[3],u=!!l((o="boolean"===typeof i?{revalidate:i}:i||{}).populateCache)||o.populateCache,s=!1!==o.revalidate,v=!1!==o.rollbackOnError,h=o.optimisticData,p=D(n),g=p[0],m=p[2],!g)return[2];if(b=L.get(t),w=b[2],e.length<3)return[2,I(t,g,t.get(g),c,c,s,!0)];if(y=r,j=P(),w[g]=[j,0],k=!l(h),R=t.get(g),k&&(t.set(g,h),I(t,g,h)),f(y))try{y=y(t.get(g))}catch(O){x=O}return y&&f(y.then)?[4,y.catch((function(e){x=e}))]:[3,2];case 1:if(y=a.sent(),j!==w[g][0]){if(x)throw x;return[2,y]}x&&k&&v&&(u=!0,y=R,t.set(g,R)),a.label=2;case 2:return u&&(x||(f(u)&&(y=u(y,R)),t.set(g,y)),t.set(m,d(t.get(m),{error:x}))),w[g][1]=P(),[4,I(t,g,y,x,c,s,!!u)];case 3:if(E=a.sent(),x)throw x;return[2,u?E:y]}}))}))},F=function(e,t){for(var n in e)e[n][0]&&e[n][0](t)},M=function(e,t){if(!L.has(e)){var n=d(O,t),r={},i=A.bind(c,e),a=u;if(L.set(e,[r,{},{},{},i]),!C){var o=n.initFocus(setTimeout.bind(c,F.bind(c,r,0))),s=n.initReconnect(setTimeout.bind(c,F.bind(c,r,1)));a=function(){o&&o(),s&&s(),L.delete(e)}}return[e,i,a]}return[e,L.get(e)[4]]},W=M(new Map),$=W[0],q=W[1],J=d({onLoadingSlow:u,onSuccess:u,onError:u,onErrorRetry:function(e,t,n,r,i){var a=n.errorRetryCount,o=i.retryCount,u=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!l(a)&&o>a||setTimeout(r,u,i)},onDiscarded:u,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:S?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:S?5e3:3e3,compare:function(e,t){return m(e)==m(t)},isPaused:function(){return!1},cache:$,mutate:q,fallback:{}},E),z=function(e,t){var n=d(e,t);if(t){var r=e.use,i=e.fallback,a=t.use,o=t.fallback;r&&a&&(n.use=r.concat(a)),i&&o&&(n.fallback=d(i,o))}return n},B=(0,r.createContext)({}),G=function(e){return f(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]},H=function(){return d(J,(0,r.useContext)(B))},K=function(e,t,n){var r=t[e]||(t[e]=[]);return r.push(n),function(){var e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}},Q={dedupe:!0},U=(s.defineProperty((function(e){var t=e.value,n=z((0,r.useContext)(B),t),i=t&&t.provider,a=(0,r.useState)((function(){return i?M(i(n.cache||$),t):c}))[0];return a&&(n.cache=a[0],n.mutate=a[1]),T((function(){return a?a[2]:c}),[]),(0,r.createElement)(B.Provider,d(e,{value:n}))}),"default",{value:J}),o=function(e,t,n){var o=n.cache,u=n.compare,s=n.fallbackData,v=n.suspense,h=n.revalidateOnMount,p=n.refreshInterval,g=n.refreshWhenHidden,m=n.refreshWhenOffline,b=L.get(o),w=b[0],y=b[1],x=b[2],j=b[3],k=D(e),R=k[0],E=k[1],O=k[2],V=(0,r.useRef)(!1),S=(0,r.useRef)(!1),_=(0,r.useRef)(R),F=(0,r.useRef)(t),M=(0,r.useRef)(n),W=function(){return M.current},$=function(){return W().isVisible()&&W().isOnline()},q=function(e){return o.set(O,d(o.get(O),e))},J=o.get(R),z=l(s)?n.fallback[R]:s,B=l(J)?z:J,G=o.get(O)||{},H=G.error,U=!V.current,X=function(){return U&&!l(h)?h:!W().isPaused()&&(v?!l(B):l(B)||n.revalidateIfStale)},Y=!(!R||!t)&&(!!G.isValidating||U&&X()),Z=function(e,t){var n=(0,r.useState)({})[1],i=(0,r.useRef)(e),a=(0,r.useRef)({data:!1,error:!1,isValidating:!1}),o=(0,r.useCallback)((function(e){var r=!1,o=i.current;for(var u in e){var c=u;o[c]!==e[c]&&(o[c]=e[c],a.current[c]&&(r=!0))}r&&!t.current&&n({})}),[]);return T((function(){i.current=e})),[i,a.current,o]}({data:B,error:H,isValidating:Y},S),ee=Z[0],te=Z[1],ne=Z[2],re=(0,r.useCallback)((function(e){return i(void 0,void 0,void 0,(function(){var t,r,i,s,d,v,h,p,g,m,b,w,y;return a(this,(function(a){switch(a.label){case 0:if(t=F.current,!R||!t||S.current||W().isPaused())return[2,!1];s=!0,d=e||{},v=!j[R]||!d.dedupe,h=function(){return!S.current&&R===_.current&&V.current},p=function(){var e=j[R];e&&e[1]===i&&delete j[R]},g={isValidating:!1},m=function(){q({isValidating:!1}),h()&&ne(g)},q({isValidating:!0}),ne({isValidating:!0}),a.label=1;case 1:return a.trys.push([1,3,,4]),v&&(I(o,R,ee.current.data,ee.current.error,!0),n.loadingTimeout&&!o.get(R)&&setTimeout((function(){s&&h()&&W().onLoadingSlow(R,n)}),n.loadingTimeout),j[R]=[t.apply(void 0,E),P()]),y=j[R],r=y[0],i=y[1],[4,r];case 2:return r=a.sent(),v&&setTimeout(p,n.dedupingInterval),j[R]&&j[R][1]===i?(q({error:c}),g.error=c,b=x[R],!l(b)&&(i<=b[0]||i<=b[1]||0===b[1])?(m(),v&&h()&&W().onDiscarded(R),[2,!1]):(u(ee.current.data,r)?g.data=ee.current.data:g.data=r,u(o.get(R),r)||o.set(R,r),v&&h()&&W().onSuccess(r,R,n),[3,4])):(v&&h()&&W().onDiscarded(R),[2,!1]);case 3:return w=a.sent(),p(),W().isPaused()||(q({error:w}),g.error=w,v&&h()&&(W().onError(w,R,n),("boolean"===typeof n.shouldRetryOnError&&n.shouldRetryOnError||f(n.shouldRetryOnError)&&n.shouldRetryOnError(w))&&$()&&W().onErrorRetry(w,R,n,re,{retryCount:(d.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return s=!1,m(),h()&&v&&I(o,R,g.data,g.error,!1),[2,!0]}}))}))}),[R]),ie=(0,r.useCallback)(A.bind(c,o,(function(){return _.current})),[]);if(T((function(){F.current=t,M.current=n})),T((function(){if(R){var e=R!==_.current,t=re.bind(c,Q),n=0,r=K(R,y,(function(e,t,n){ne(d({error:t,isValidating:n},u(ee.current.data,e)?c:{data:e}))})),i=K(R,w,(function(e){if(0==e){var r=Date.now();W().revalidateOnFocus&&r>n&&$()&&(n=r+W().focusThrottleInterval,t())}else if(1==e)W().revalidateOnReconnect&&$()&&t();else if(2==e)return re()}));return S.current=!1,_.current=R,V.current=!0,e&&ne({data:B,error:H,isValidating:Y}),X()&&(l(B)||C?t():N(t)),function(){S.current=!0,r(),i()}}}),[R,re]),T((function(){var e;function t(){var t=f(p)?p(B):p;t&&-1!==e&&(e=setTimeout(n,t))}function n(){ee.current.error||!g&&!W().isVisible()||!m&&!W().isOnline()?t():re(Q).then(t)}return t(),function(){e&&(clearTimeout(e),e=-1)}}),[p,g,m,re]),(0,r.useDebugValue)(B),v&&l(B)&&R)throw F.current=t,M.current=n,S.current=!1,l(H)?re(Q):H;return{mutate:ie,get data(){return te.data=!0,B},get error(){return te.error=!0,H},get isValidating(){return te.isValidating=!0,Y}}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=H(),r=G(e),i=r[0],a=r[1],u=r[2],c=z(n,u),s=o,l=c.use;if(l)for(var f=l.length;f-- >0;)s=l[f](s);return s(i,a||c.fetcher,c)}),X=function(){return fetch.apply(void 0,arguments).then((function(e){return e.json()}))},Y=n(485),Z=n(184),ee=function(e){var t=e.item,n=(0,Y.j)().addToCart,r=t.image,i=t.title,a=t.rating,o=t.price,u=a.rate,c=a.count;return(0,Z.jsxs)("div",{className:"item flex flex-col border border-opacity-20 rounded shadow-lg p-3",children:[(0,Z.jsx)("div",{className:"w-full h-[250px]",children:(0,Z.jsx)("img",{className:"w-full h-full object-cover",src:"".concat(r),alt:""})}),(0,Z.jsxs)("div",{className:"flex-1 flex flex-col mt-3",children:[(0,Z.jsx)("h3",{className:"font-semibold text-[14px]",children:i}),(0,Z.jsxs)("div",{className:"mt-3 mt-auto",children:[(0,Z.jsxs)("div",{className:"flex items-center justify-between mt-3 mb-3",children:[(0,Z.jsxs)("div",{className:"flex items-center gap-x-1",children:[(0,Z.jsx)("span",{className:"opacity-80 text-sm",children:u}),(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Z.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]}),(0,Z.jsx)("span",{className:"opacity-80 text-sm",children:c})]}),(0,Z.jsxs)("p",{className:"font-bold text-xl",children:[o,"$"]}),(0,Z.jsx)("button",{onClick:function(){return n(t)},className:"w-full rounded-lg bg-green-400 text-white font-semibold p-3 mt-2 hover:opacity-80 transition-all",children:"Add to cart"})]})]})]})},te=function(){var e=U("https://fakestoreapi.com/products",X).data;return e?(0,Z.jsx)("div",{className:"grid sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-5",children:e&&e.length>0&&e.map((function(e,t){return(0,Z.jsx)(ee,{item:e},t)}))}):null},ne=function(){return(0,Z.jsx)("div",{className:"p-4 mt-5",children:(0,Z.jsx)(te,{})})}}}]);
//# sourceMappingURL=267.db403134.chunk.js.map